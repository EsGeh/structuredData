#N canvas 0 30 681 722 10;
#X text 525 178 "generic" gui to read/write objects:;
#N canvas 0 407 681 345 other 0;
#X obj 269 270 send, f 18;
#X obj 434 170 loadbang;
#X obj 242 164 sdPackFromHuman;
#X msg 284 71 list out ( clear );
#X msg 282 44 list out ( add %0-listener );
#X obj 242 187 sdReplace \$0;
#X msg 291 96 list out ( set %0-listener x );
#X msg 293 119 list out ( del %0-listener );
#X obj 376 239 sdReplace \$0;
#X msg 434 193 symbol %0-obscureInstrument;
#X msg 446 216 symbol %0-weirdInstrument;
#X connect 1 0 9 0;
#X connect 2 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 0 0;
#X connect 6 0 2 0;
#X connect 7 0 2 0;
#X connect 8 0 0 1;
#X connect 9 0 8 0;
#X connect 10 0 8 0;
#X restore 519 669 pd other connection msgs;
#N canvas 0 30 798 854 other 0;
#X floatatom 190 25 5 0 0 0 - - -;
#X floatatom 213 74 5 0 0 0 - - -;
#X obj 267 361 send, f 18;
#X obj 432 261 loadbang;
#X obj 240 255 sdPackFromHuman;
#X obj 240 278 sdReplace \$0;
#X obj 374 330 sdReplace \$0;
#X msg 432 284 symbol %0-obscureInstrument;
#X msg 444 307 symbol %0-weirdInstrument;
#X msg 364 167 list start ( );
#X msg 372 199 list start ( pitch ( 3 ) volume ( 0.5 ) );
#X msg 213 97 list set ( volume \$1 );
#X msg 190 47 list set ( pitch \$1 );
#X msg 229 123 list set ( name instrument );
#X connect 0 0 12 0;
#X connect 1 0 11 0;
#X connect 3 0 7 0;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X connect 6 0 2 1;
#X connect 7 0 6 0;
#X connect 8 0 6 0;
#X connect 9 0 4 0;
#X connect 10 0 4 0;
#X connect 11 0 4 0;
#X connect 12 0 4 0;
#X connect 13 0 4 0;
#X restore 520 697 pd other control msgs;
#X floatatom 89 488 5 0 0 0 - - -;
#X text 515 716 (setting properties);
#X text 228 654 (get all properties + extra infos);
#X text 52 582 we can ask the instrument to inform us (the "listener")
about its state:;
#X text 37 607 (get current pitch);
#X obj 62 651 s \$0-obscureInstrument;
#X msg 62 627 list get 1 pitch;
#X obj 234 718 s \$0-obscureInstrument;
#X msg 560 103 load;
#X msg 521 103 save;
#X obj 89 533 s \$0-obscureInstrument;
#X obj 556 128 sdObjSaveAll \$0-GLOBAL;
#X text 31 17 define an "instrument" as an stateful object with some
properties:;
#X text 382 53 <- open abstraction to see details;
#N canvas 0 30 681 722 UserInterface 0;
#X text 344 59 now you can:;
#X text 365 80 read or write the objects properties;
#X text 365 98 send messages to the object;
#X obj 371 282 sdPackFromHuman;
#X obj 371 305 send GUI;
#X msg 371 259 list set ( destIndex ( \$1 ) );
#X floatatom 371 237 5 0 0 0 - - -;
#X floatatom 339 186 5 0 0 0 - - -;
#X msg 339 208 list set ( groupIndex ( \$1 ) );
#X floatatom 474 284 5 0 0 0 - - -;
#X obj 474 306 pack;
#X floatatom 510 285 5 0 0 0 - - -;
#X msg 474 329 list set_num_by_ind ( \$2 \$1 );
#X text 476 351 (generically set properties);
#X floatatom 386 377 5 0 0 0 - - -;
#X obj 386 399 pack;
#X floatatom 422 378 5 0 0 0 - - -;
#X msg 386 423 list set_num_by_ind_in_range ( \$2 \$1 );
#X obj 9 509 print GUI.out;
#X obj 158 509 print genericObj.out;
#X msg 565 10 list init 0;
#X obj 565 33 s \$0-GUI-INIT;
#X obj 9 10 sdObjState_ui GUI \$0-GUI-INIT \$0-INSTR \$0-CONN;
#X text 345 8 1 init GUI;
#X text 345 42 3 select an object;
#X text 345 25 2 select a group;
#X text 485 8 --->;
#X text 345 159 control GUI by sending messages;
#N canvas 0 30 681 722 non-gui 0;
#X obj 55 117 sdPackFromHuman;
#X msg 55 94 list set ( dest ( \$1 ) );
#X msg 55 48 symbol %0-weirdInstrument;
#X obj 55 71 sdReplace \$0;
#X floatatom 241 43 5 0 0 0 - - -;
#X obj 241 65 pack;
#X floatatom 277 44 5 0 0 0 - - -;
#X msg 241 88 list set_num_by_ind_in_range ( \$2 \$1 );
#X obj 56 163 print;
#X obj 244 166 print;
#X obj 151 176 print;
#X obj 56 140 sdObjInterface_obj objIF, f 32;
#X obj 322 142 sdObjGroupsInterface_obj objIF;
#X connect 0 0 11 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 6 0 5 1;
#X connect 7 0 0 0;
#X connect 11 0 8 0;
#X connect 11 1 10 0;
#X connect 11 2 9 0;
#X restore 385 497 pd non-gui objects;
#X connect 3 0 4 0;
#X connect 5 0 3 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 8 0 3 0;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 11 0 10 1;
#X connect 12 0 3 0;
#X connect 14 0 15 0;
#X connect 15 0 17 0;
#X connect 16 0 15 1;
#X connect 17 0 3 0;
#X connect 20 0 21 0;
#X connect 22 0 18 0;
#X connect 22 1 19 0;
#X restore 546 199 pd UserInterface;
#X obj 79 696 r test;
#X msg 234 671 list get 3 out 1 test;
#X obj 79 719 print test;
#X text 175 606 (send current pitch to specific receiver);
#X msg 178 626 list get 4 pitch out 1 test;
#X msg 205 510 list start 0;
#X floatatom 439 490 5 0 0 0 - - -;
#X obj 439 535 s \$0-obscureInstrument;
#X msg 439 512 raw set pitch \$1 \;;
#X obj 89 510 sdEvent set pitch;
#X msg 212 486 list start 3 pitch 1 60;
#X text 426 470 send simple pd messages (prepend by "raw");
#X text 78 466 send events (prepend by "list");
#X obj 47 282 sdReplace \$0;
#X msg 47 239 raw set dest %0-obscureInstrument;
#X obj 334 324 sdReplace \$0;
#X msg 333 278 raw set dest %0-obscureInstrument;
#X msg 346 301 raw set dest %0-weirdInstrument;
#X msg 62 260 raw set dest %0-weirdInstrument;
#X text 42 215 lets define a receiver to track the instruments state
;
#X text 283 249 ...and a sender to set the instruments state;
#X obj 607 22 loadbang;
#X obj 607 68 s \$0-GLOBAL;
#X msg 607 45 list init 0;
#X obj 636 319 sdReplace \$0;
#X msg 635 273 raw set dest %0-obscureInstrument;
#X msg 648 296 raw set dest %0-weirdInstrument;
#X text 580 244 ...or an object which does both;
#X text 412 453 DEPRECATED:;
#X msg 602 99 get;
#X obj 556 151 print get;
#X obj 61 55 sdObjExample \$0-obscureInstrument \$0-INSTR \$0-GLOBAL
;
#X obj 61 121 sdObjExample \$0-weirdInstrument \$0-INSTR \$0-GLOBAL
;
#X obj 334 347 sdObjSndExample \$0-sender \$0-CONN \$0-GLOBAL;
#X obj 37 315 sdObjRcvExample \$0-receiver \$0-CONN \$0-GLOBAL;
#X obj 622 347 sdObjDuplexExample \$0-dupl \$0-CONN \$0-GLOBAL;
#X msg 358 626 list get_range 4 pitch out 1 test;
#X msg 254 695 list get_with_range 3 out 1 test;
#X connect 3 0 27 0;
#X connect 9 0 8 0;
#X connect 11 0 14 0;
#X connect 12 0 14 0;
#X connect 14 0 48 0;
#X connect 18 0 20 0;
#X connect 19 0 10 0;
#X connect 22 0 8 0;
#X connect 23 0 13 0;
#X connect 24 0 26 0;
#X connect 26 0 25 0;
#X connect 27 0 13 0;
#X connect 28 0 13 0;
#X connect 31 0 52 0;
#X connect 32 0 31 0;
#X connect 33 0 51 0;
#X connect 34 0 33 0;
#X connect 35 0 33 0;
#X connect 36 0 31 0;
#X connect 39 0 41 0;
#X connect 41 0 40 0;
#X connect 42 0 53 0;
#X connect 43 0 42 0;
#X connect 44 0 42 0;
#X connect 47 0 14 0;
#X connect 54 0 8 0;
#X connect 55 0 10 0;
