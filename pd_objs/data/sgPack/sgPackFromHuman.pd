#N canvas 0 30 942 854 10;
#X obj 127 139 route symbol;
#X obj 232 264 route ( );
#X obj 232 242 list trim;
#X floatatom 744 410 5 0 0 0 - - -;
#X obj 744 388 r \$0-depth;
#X obj 26 31 t a b;
#X obj 53 52 s \$0-init;
#X obj 708 16 r \$0-init;
#X obj 708 38 \$0;
#X obj 744 457 r \$0-parameter.count;
#X floatatom 744 479 5 0 0 0 - - -;
#X msg 701 263 paket ( unterpaket ( ) p1 3 );
#X obj 745 515 r \$0-listIndexStart;
#X obj 746 595 r \$0-listIndexStop;
#N canvas 0 30 942 854 ( 0;
#X obj 96 269 s \$0-depth;
#X obj 96 248 + 1;
#X obj 110 227 r \$0-depth;
#X msg 81 225 1;
#X obj 86 32 inlet;
#X obj 282 261 r \$0-listIndexStart;
#X obj 220 286 list append;
#X obj 213 247 f;
#X obj 235 208 r \$0-index;
#X obj 86 54 t b b;
#X obj 220 308 s \$0-listIndexStart;
#X obj 672 30 inlet;
#X text 725 30 max depth;
#X msg 436 194 (;
#X obj 455 65 expr if ($f2==0 || $f1 < $f2 \, 1 \, 0) \;;
#X obj 434 220 outlet;
#X obj 467 26 r \$0-depth;
#X obj 198 136 sgGate;
#X connect 1 0 0 0;
#X connect 2 0 1 1;
#X connect 3 0 1 0;
#X connect 4 0 9 0;
#X connect 5 0 6 1;
#X connect 6 0 10 0;
#X connect 7 0 6 0;
#X connect 8 0 7 1;
#X connect 9 0 3 0;
#X connect 9 1 17 0;
#X connect 11 0 14 1;
#X connect 13 0 15 0;
#X connect 14 0 17 1;
#X connect 16 0 14 0;
#X connect 17 0 7 0;
#X connect 17 1 13 0;
#X restore 251 505 pd (;
#X obj 746 639 r \$0-index;
#X floatatom 746 661 5 0 0 0 - - -;
#X obj 76 110 t b a;
#X obj 742 337 r \$0-list;
#N canvas 0 30 942 411 ) 0;
#X obj 83 8 inlet;
#X obj 728 286 r \$0-listIndexStart;
#X obj 688 340 list split 1;
#X obj 688 319 list;
#X obj 744 382 s \$0-listIndexStart;
#X obj 304 217 r \$0-list;
#X obj 345 316 sgCounter -1;
#X msg 362 293 0;
#X obj 291 295 t a b;
#X obj 345 341 ==;
#X obj 479 509 -;
#X obj 474 455 r \$0-index;
#X obj 459 476 f;
#X obj 176 634 sgList;
#X obj 237 213 t b b;
#X obj 249 176 t b b;
#X msg 868 534 clear;
#X floatatom 477 533 5 0 0 0 - - -;
#X floatatom 448 320 5 0 0 0 - - -;
#X obj 339 401 t b a;
#X floatatom 380 364 5 0 0 0 - - -;
#X obj 431 227 t b b, f 76;
#X obj 166 527 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 385 449 t b b;
#X obj 344 505 +;
#X msg 340 480 1;
#X obj 372 479 r \$0-index;
#X obj 344 531 s \$0-index;
#X obj 284 272 sgSerialize;
#X floatatom 676 390 5 0 0 0 - - -;
#X obj 280 243 list;
#X obj 36 43 t b b;
#X obj 67 134 r \$0-depth;
#X obj 42 158 f;
#X obj 42 180 - 1;
#X obj 42 202 s \$0-depth;
#X obj 793 28 inlet;
#X text 790 10 max depth;
#X obj 448 41 r \$0-depth;
#X msg 321 137 );
#X obj 448 62 expr if ($f2==0 || $f1 <= $f2 \, 1 \, 0) \;;
#X obj 322 165 outlet;
#X obj 267 109 sgGate 1;
#X obj 293 374 sgGate;
#X obj 340 364 == 0;
#X obj 176 657 outlet;
#X connect 0 0 31 0;
#X connect 1 0 3 1;
#X connect 2 0 9 1;
#X connect 2 0 10 1;
#X connect 2 0 29 0;
#X connect 2 1 4 0;
#X connect 3 0 2 0;
#X connect 5 0 30 1;
#X connect 6 0 9 0;
#X connect 6 0 18 0;
#X connect 7 0 6 0;
#X connect 8 0 43 0;
#X connect 8 1 6 0;
#X connect 9 0 20 0;
#X connect 9 0 44 0;
#X connect 10 0 13 1;
#X connect 10 0 17 0;
#X connect 11 0 12 1;
#X connect 12 0 10 0;
#X connect 13 0 45 0;
#X connect 14 0 22 0;
#X connect 14 1 30 0;
#X connect 15 0 14 0;
#X connect 15 1 21 0;
#X connect 16 0 13 1;
#X connect 19 0 23 0;
#X connect 19 1 13 1;
#X connect 21 0 3 0;
#X connect 21 0 7 0;
#X connect 21 1 16 0;
#X connect 22 0 13 0;
#X connect 23 0 25 0;
#X connect 23 1 12 0;
#X connect 24 0 27 0;
#X connect 25 0 24 0;
#X connect 26 0 24 1;
#X connect 28 0 8 0;
#X connect 30 0 28 0;
#X connect 31 0 33 0;
#X connect 31 1 42 0;
#X connect 32 0 33 1;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 36 0 40 1;
#X connect 38 0 40 0;
#X connect 39 0 41 0;
#X connect 40 0 42 1;
#X connect 42 0 15 0;
#X connect 42 1 39 0;
#X connect 43 0 13 1;
#X connect 43 1 19 0;
#X connect 44 0 43 1;
#X restore 326 347 pd );
#X obj 463 481 symbol;
#X obj 26 9 inlet;
#X obj 26 77 t b a;
#X obj 76 89 sgSerialize;
#X obj 35 574 list;
#X obj 34 596 outlet;
#X obj 59 551 r \$0-list;
#X obj 232 218 t s s, f 41;
#X obj 441 266 bang;
#X text 521 710 "(" () \; listIndexStart.prepend( index ) \; depth
+= 1 \;;
#X obj 74 25 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 520 754 ")" () \; list = list[0..listIndexStart[0]] ++ (index-listIndexStart[0])
++ list[ listIndexStart[0]+1 .. ] \; depth -= 1 \;;
#X obj 374 309 loadbang;
#X obj 375 331 f \$1;
#X text 201 737 \$1: maximum depth (0 \, for infinity);
#X text 404 31 be m current element: \; if m not a symbol \; append
(m) \; else \; if not ( m == "(" or ")" ) \; lastSymbol = m \; append
to list \; else if m == "(" \;;
#X obj 71 217 s \$0-escape;
#X msg 71 195 1;
#X text 72 788 !a block surrounded by "#[" and "#]" will be preserved!
;
#X obj 256 418 r \$0-escape;
#X msg 106 194 0;
#X obj 288 293 r \$0-escape;
#X obj 114 164 sel #[ #];
#X obj 264 328 sgGate;
#X obj 211 440 sgGate;
#X obj 629 219 t a;
#X obj 609 472 t a;
#X obj 269 461 loadbang;
#X obj 270 483 f \$1;
#X obj 236 598 t a;
#X obj 564 554 r \$0-init;
#X obj 384 640 s \$0-list;
#X obj 326 372 s \$0-list;
#N canvas 0 30 942 854 incIndex 0;
#X obj 238 149 r \$0-index;
#X obj 220 173 +;
#X msg 203 147 1;
#X obj 220 195 s \$0-index;
#X obj 182 47 inlet;
#X connect 0 0 1 1;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 4 0 2 0;
#X restore 564 601 pd incIndex;
#X obj 453 594 r \$0-list;
#X obj 456 555 t a b;
#X obj 525 578 sgFirst;
#X obj 384 617 list prepend;
#X msg 708 61 \; \$1-depth 0 \; \$1-parameter.count 0 \; \$1-list bang
\; \$1-index 0 \; \$1-listIndexStart bang \; \$1-listIndexStop bang
\;;
#X connect 0 0 42 0;
#X connect 0 1 45 0;
#X connect 1 0 44 0;
#X connect 1 1 43 0;
#X connect 1 2 28 0;
#X connect 2 0 1 0;
#X connect 5 0 22 0;
#X connect 5 1 6 0;
#X connect 7 0 8 0;
#X connect 8 0 58 0;
#X connect 14 0 20 0;
#X connect 15 0 16 0;
#X connect 17 1 0 0;
#X connect 19 0 52 0;
#X connect 19 1 20 0;
#X connect 20 0 55 0;
#X connect 21 0 5 0;
#X connect 22 0 24 0;
#X connect 22 1 23 0;
#X connect 23 0 17 0;
#X connect 24 0 25 0;
#X connect 26 0 24 1;
#X connect 27 0 2 0;
#X connect 27 1 20 1;
#X connect 28 0 20 0;
#X connect 30 0 6 0;
#X connect 32 0 33 0;
#X connect 33 0 19 1;
#X connect 37 0 36 0;
#X connect 39 0 44 1;
#X connect 40 0 36 0;
#X connect 41 0 43 1;
#X connect 42 0 37 0;
#X connect 42 1 40 0;
#X connect 42 2 27 0;
#X connect 43 0 20 0;
#X connect 43 1 19 0;
#X connect 44 0 49 0;
#X connect 44 1 14 0;
#X connect 45 0 46 0;
#X connect 46 0 55 0;
#X connect 47 0 48 0;
#X connect 48 0 14 1;
#X connect 49 0 20 0;
#X connect 50 0 56 1;
#X connect 54 0 57 1;
#X connect 55 0 57 0;
#X connect 55 1 56 0;
#X connect 56 1 53 0;
#X connect 57 0 51 0;
